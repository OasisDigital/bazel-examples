# Configure Bazel Java rules to use a Bazel-managed JDK.
# (In the future, that may become the default.)

build --javabase=//:jdk
build --host_javabase=//:jdk

# Newer Java, and Newer Bazel 5/6

# Work around https://github.com/bazelbuild/bazel/issues/13784
# Other ideas in https://github.com/bazelbuild/bazel/issues/3427
# build --javacopt=-XX:+IgnoreUnrecognizedVMOptions
# build --jvmopt=-XX:+IgnoreUnrecognizedVMOptions
# build --host_javacopt=-XX:+IgnoreUnrecognizedVMOptions
# build --host_jvmopt=-XX:+IgnoreUnrecognizedVMOptions

# An even simpler example would not configure any extra caching; but
# to speed up the CI used for these examples, itâ€™s worth this extra bit
# of configuration.

# --repository_cache for fetched externals
# --disk_cache for build artifacts

build --repository_cache=~/.cache/bazel-repo
fetch --repository_cache=~/.cache/bazel-repo
query --repository_cache=~/.cache/bazel-repo
build --disk_cache=~/.cache/bazel-disk
